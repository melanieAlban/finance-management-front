<div class="flex flex-wrap gap-4 p-4 home-container">
  <div class="flex flex-col" style="width: 100%;">
    <p-carousel [value]="cuentas" [numVisible]="6" [numScroll]="1" [responsiveOptions]="carouselResponsiveOptions">
      <ng-template #header>
        <app-button icon="pi pi-plus" label="Nueva Cuenta" raised="true" class="color-buton" (click)="abrirModal()" />
      </ng-template>
      <ng-template let-cuenta #item>
        <div
          class="flex items-center justify-between p-3 m-2 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 w-56 h-24 bg-gradient-to-br from-white to-gray-50 text-gray-700">
          <div class="flex flex-col justify-between h-full">
            <div>
              <p class="text-sm font-semibold capitalize truncate max-w-[120px]">{{ cuenta.name }}</p>
              <p class="text-xs font-medium capitalize px-2 py-1 rounded-full w-fit mt-1"
                [ngClass]="getTipoClass(cuenta.type) + ' bg-opacity-20'">
                {{ cuenta.type }}
              </p>
            </div>
            <p class="text-lg font-bold text-gray-800">
              ${{ cuenta.balance | number }}
            </p>
          </div>

          <div class="flex flex-col items-center justify-center ml-2">
            <i class="p-3 rounded-full text-gray-700" [ngClass]="{
     'pi': true,
     'pi-id-card  ': cuenta.type === 'CREDIT_CARD',
     'pi-wallet ': cuenta.type === 'DEBIT_CARD',
     'pi-home ': cuenta.type === 'BANK_ACCOUNT',
     'pi-money-bill ': cuenta.type === 'CASH'
   }" style="font-size: 1.5rem;"></i>
          </div>
        </div>

      </ng-template>
    </p-carousel>
  </div>

</div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 px-4 pb-6">
  <!-- Total Cuentas -->
  <div class="flex items-center p-5 bg-gradient-to-br from-blue-100 to-blue-50 rounded-xl shadow-lg">
    <i class="pi pi-credit-card text-3xl text-blue-700 mr-4"></i>
    <div>
      <p class="text-sm text-blue-700 font-medium">Total Cuentas</p>
      <p class="text-xl font-bold text-blue-900">${{ totalCuentas | number: '1.2-2' }}</p>
    </div>
  </div>

  <!-- Total Ingresos -->
  <div class="flex items-center p-5 bg-gradient-to-br from-green-100 to-green-50 rounded-xl shadow-lg">
    <i class="pi pi-arrow-down-right text-3xl text-green-700 mr-4"></i>
    <div>
      <p class="text-sm text-green-700 font-medium">Total Ingresos</p>
      <p class="text-xl font-bold text-green-900">${{ totalGastos | number: '1.2-2' }}</p>
    </div>
  </div>

  <!-- Total Gastos -->
  <div class="flex items-center p-5 bg-gradient-to-br from-red-100 to-red-50 rounded-xl shadow-lg">
    <i class="pi pi-arrow-up-right text-3xl text-red-700 mr-4"></i>
    <div>
      <p class="text-sm text-red-700 font-medium">Total Gastos</p>
      <p class="text-xl font-bold text-red-900">${{ totalIngresos | number: '1.2-2' }}</p>
    </div>
  </div>
</div>

<app-modal [(visible)]="modalVisible" [width]="'40vw'" header="Crear Cuenta">
  <div class="space-y-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Cuenta</label>
      <app-custom-input [placeholder]="'Ingrese el nombre de la cuenta...'" [type]="'text'"
        [(ngModel)]="nombreCuenta" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de cuenta</label>

      <p-select [options]="tipos" [(ngModel)]="tipoCuenta" optionValue="value" checkmark="true" showClear="true"
        placeholder="Seleccione el tipo de cuenta" optionLabel="name" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Balance</label>
      <app-custom-input [placeholder]="'Ingrese el balance...'" [type]="'number'" [(ngModel)]="balanceCuenta" />
    </div>

    <div class="flex justify-end space-x-3 pt-4">
      <app-button icon="pi pi-check" label="{{ isEditMode ? 'Actualizar' : 'Registrar' }}" raised="true"
        (click)="guardarCuenta()" />
      <app-button icon="pi pi-times" label="Cancelar" raised="true" severity="danger" (click)="cancelar()" />
    </div>
  </div>
</app-modal>